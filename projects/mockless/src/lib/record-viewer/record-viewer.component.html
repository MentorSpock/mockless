<div class="viewer-container">
    <!-- Enable Mockless -->
    <label>
        <input type="checkbox" [checked]="storage.isEnabled()" (change)="toggleEnabled($event)" />
        Enable Mockless
    </label>

  <h2>History</h2>

  <div *ngIf="history.length === 0">
    <p>No requests made yet.</p>
  </div>
  
  <lib-api 
    *ngFor="let record of history" 
    [record]="record"
    [showActions]="true"
    actionButtonText="💾"
    actionButtonTitle="Add to Mockables"
    [showEditor]="false"
    (actionClick)="addMockable($event)">
  </lib-api>

  <h2>Stored Mockables</h2>

  <div *ngIf="mockables.length === 0">
    <p>No mockable requests stored yet.</p>
  </div>

  <lib-api 
    *ngFor="let record of mockables" 
    [record]="record"
    [showActions]="true"
    actionButtonText="🗑️"
    actionButtonTitle="Remove Mockable"
    [showEditor]="true"
    [editorRows]="10"
    (actionClick)="remove($event)"
    (updateRecord)="updateMockable($event.record, $event.updatedValue)">
  </lib-api>
</div>
